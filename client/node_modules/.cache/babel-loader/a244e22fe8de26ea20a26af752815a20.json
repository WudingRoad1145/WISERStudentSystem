{"ast":null,"code":"import _classCallCheck from\"/Users/yan/Desktop/WISERStudentSystem/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yan/Desktop/WISERStudentSystem/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/yan/Desktop/WISERStudentSystem/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/yan/Desktop/WISERStudentSystem/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/yan/Desktop/WISERStudentSystem/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/yan/Desktop/WISERStudentSystem/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import studentDataService from\"../services/student.service\";import{Link}from\"react-router-dom\";import Select from'react-select';var StudentsList=/*#__PURE__*/function(_Component){_inherits(StudentsList,_Component);function StudentsList(props){var _this;_classCallCheck(this,StudentsList);_this=_possibleConstructorReturn(this,_getPrototypeOf(StudentsList).call(this,props));_this.onChangeSearchname=_this.onChangeSearchname.bind(_assertThisInitialized(_this));_this.retrievestudents=_this.retrievestudents.bind(_assertThisInitialized(_this));_this.refreshList=_this.refreshList.bind(_assertThisInitialized(_this));_this.setActivestudent=_this.setActivestudent.bind(_assertThisInitialized(_this));_this.removeAllstudents=_this.removeAllstudents.bind(_assertThisInitialized(_this));_this.searchname=_this.searchname.bind(_assertThisInitialized(_this));_this.selectGraduationYear=_this.selectGraduationYear.bind(_assertThisInitialized(_this));_this.selectStudentClass=_this.selectStudentClass.bind(_assertThisInitialized(_this));_this.state={students:[],currentstudent:null,currentIndex:-1,searchname:\"\",gradYear:\"\",studentClass:\"\"};return _this;}_createClass(StudentsList,[{key:\"componentDidMount\",value:function componentDidMount(){this.retrievestudents();}},{key:\"onChangeSearchname\",value:function onChangeSearchname(e){var searchname=e.target.value;this.setState({searchname:searchname});}},{key:\"retrievestudents\",value:function retrievestudents(){var _this2=this;studentDataService.getAll().then(function(response){_this2.setState({students:response.data});console.log(response.data);}).catch(function(e){console.log(e);});}},{key:\"refreshList\",value:function refreshList(){this.retrievestudents();this.setState({currentstudent:null,currentIndex:-1});}},{key:\"setActivestudent\",value:function setActivestudent(student,index){this.setState({currentstudent:student,currentIndex:index});}},{key:\"removeAllstudents\",value:function removeAllstudents(){var _this3=this;studentDataService.deleteAll().then(function(response){console.log(response.data);_this3.refreshList();}).catch(function(e){console.log(e);});}},{key:\"searchname\",value:function searchname(){var _this4=this;this.setState({currentstudent:null,currentIndex:-1});studentDataService.findByname(this.state.searchname).then(function(response){_this4.setState({students:response.data});console.log(response.data);}).catch(function(e){console.log(e);});}},{key:\"selectGraduationYear\",value:function selectGraduationYear(value){var _this5=this;console.log(this.state.gradYear);this.setState({currentstudent:null,currentIndex:-1//gradYear:value[\"value\"]\n});studentDataService.findByGraduationYear(value[\"value\"]).then(function(response){_this5.setState({students:response.data});console.log(response.data);}).catch(function(e){console.log(e);});}},{key:\"selectStudentClass\",value:function selectStudentClass(value){var _this6=this;console.log(this.state.studentClass);this.setState({currentstudent:null,currentIndex:-1});studentDataService.findByStudentClass(value[\"value\"]).then(function(response){_this6.setState({students:response.data});console.log(response.data);}).catch(function(e){console.log(e);});}},{key:\"render\",value:function render(){var _this7=this;var _this$state=this.state,searchname=_this$state.searchname,students=_this$state.students,currentstudent=_this$state.currentstudent,currentIndex=_this$state.currentIndex;var s_GraduationYear=[{value:'',label:'All Year'},{value:'2022',label:'2022'},{value:'2023',label:'2023'},{value:'2024',label:'2024'},{value:'2025',label:'2025'}];var s_Class=[{value:'All Class',label:'All Class'},{value:'Prime',label:'Prime'},{value:'Royal',label:'Royal'},{value:'Imperial',label:'Imperial'}];var s_Subject=[{value:'All Subject',label:'All Subject'},{value:'Math',label:'Math'},{value:'English',label:'English'},{value:'Kiswahili',label:'Kiswahili'},{value:'Physics',label:'Physics'}];var s_House=[{value:'All House',label:'All House'},{value:'Mirror',label:'Mirror'},{value:'Savvy',label:'Savvy'},{value:'Noble',label:'Noble'},{value:'Competent',label:'Competent'}];return React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-2\"},React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{id:\"root\"},React.createElement(Select,{className:\"mt-4\",label:\"graduationYear\",defaultInputValue:\"All Year\",options:s_GraduationYear//value={this.state.gradYear}\n//onChange={value => this.setState({gradYear: value})}\n//onFocus={value=>this.selectGraduationYear(value)}\n,onChange:function onChange(value){return _this7.selectGraduationYear(value);},allowClear:true})),React.createElement(\"div\",{id:\"root\"},React.createElement(Select,{className:\"mt-4\",label:\"studentClass\",defaultInputValue:\"All Class\",options:s_Class,onChange:function onChange(value){return _this7.selectStudentClass(value);},allowClear:true})),React.createElement(\"div\",{id:\"root\"},React.createElement(Select,{className:\"mt-4\",label:\"subject\",defaultInputValue:\"All Subject\",options:s_Subject})),React.createElement(\"div\",{id:\"root\"},React.createElement(Select,{className:\"mt-4\",label:\"house\",defaultInputValue:\"All House\",options:s_House}))),React.createElement(Link,{to:\"/addStudents\",className:\"m-3 btn btn-sm btn-danger\"},\"Add Student\"),React.createElement(\"button\",{className:\"m-3 btn btn-sm btn-danger\",onClick:this.removeAllstudents},\"Remove All\")),React.createElement(\"div\",{className:\"col-md-10\"},React.createElement(\"div\",{className:\"col-md-8\"},React.createElement(\"div\",{className:\"input-group mb-3\"},React.createElement(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Search by student name\",value:searchname,onChange:this.onChangeSearchname}),React.createElement(\"div\",{className:\"input-group-append\"},React.createElement(\"button\",{className:\"btn btn-outline-secondary\",type:\"button\",onClick:this.searchname},\"Search\")))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-5\"},React.createElement(\"h4\",null,\"All Students\"),React.createElement(\"ul\",{className:\"list-group\"},students&&students.map(function(student,index){return React.createElement(\"li\",{className:\"list-group-item \"+(index===currentIndex?\"active\":\"\"),onClick:function onClick(){return _this7.setActivestudent(student,index);},key:index},student.id,\" \",student.name,\" Form:\",student.form,\" \",student.graduationYear);}))),React.createElement(\"div\",{className:\"col-md-5\"},currentstudent?React.createElement(\"div\",null,React.createElement(\"h4\",null,\"Student\"),React.createElement(\"div\",null,React.createElement(\"img\",{className:\"img-fluid\",src:\"\".concat(process.env.PUBLIC_URL,\"/assets/pfp/\").concat(currentstudent.id,\".png\"),width:\"180\",height:\"250\",alt:\"student_profile_pic\"})),React.createElement(\"div\",null,React.createElement(\"label\",null,React.createElement(\"strong\",null,\"Full Name:\")),\" \",currentstudent.name),React.createElement(\"div\",null,React.createElement(\"label\",null,React.createElement(\"strong\",null,\"Form:\")),\" \",currentstudent.form),React.createElement(\"div\",null,React.createElement(\"label\",null,React.createElement(\"strong\",null,\"Graduation Year:\")),\" \",currentstudent.graduationYear),React.createElement(\"div\",null,React.createElement(\"label\",null,React.createElement(\"strong\",null,\"Status:\")),\" \",currentstudent.graduated?\"Graduated\":\"In School\"),React.createElement(Link,{to:\"/students/\"+currentstudent.id,className:\"btn btn-outline-primary\"},\"More\")):React.createElement(\"div\",null,React.createElement(\"br\",null),React.createElement(\"p\",null,\"Please click to select a student...\"))))));}}]);return StudentsList;}(Component);export{StudentsList as default};","map":{"version":3,"sources":["/Users/yan/Desktop/WISERStudentSystem/client/src/components/student-list.component.js"],"names":["React","Component","studentDataService","Link","Select","StudentsList","props","onChangeSearchname","bind","retrievestudents","refreshList","setActivestudent","removeAllstudents","searchname","selectGraduationYear","selectStudentClass","state","students","currentstudent","currentIndex","gradYear","studentClass","e","target","value","setState","getAll","then","response","data","console","log","catch","student","index","deleteAll","findByname","findByGraduationYear","findByStudentClass","s_GraduationYear","label","s_Class","s_Subject","s_House","map","id","name","form","graduationYear","process","env","PUBLIC_URL","graduated"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport studentDataService from \"../services/student.service\";\nimport { Link } from \"react-router-dom\";\nimport Select from 'react-select';\n\nexport default class StudentsList extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeSearchname = this.onChangeSearchname.bind(this);\n    this.retrievestudents = this.retrievestudents.bind(this);\n    this.refreshList = this.refreshList.bind(this);\n    this.setActivestudent = this.setActivestudent.bind(this);\n    this.removeAllstudents = this.removeAllstudents.bind(this);\n    this.searchname = this.searchname.bind(this);\n    this.selectGraduationYear = this.selectGraduationYear.bind(this);\n    this.selectStudentClass = this.selectStudentClass.bind(this);\n\n    this.state = {\n      students: [],\n      currentstudent: null,\n      currentIndex: -1,\n      searchname: \"\",\n      gradYear:\"\",\n      studentClass:\"\"\n    };\n  }\n\n  componentDidMount() {\n    this.retrievestudents();\n  }\n\n  onChangeSearchname(e) {\n    const searchname = e.target.value;\n\n    this.setState({\n      searchname: searchname\n    });\n  }\n\n  retrievestudents() {\n    studentDataService.getAll()\n      .then(response => {\n        this.setState({\n          students: response.data\n        });\n        console.log(response.data);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  refreshList() {\n    this.retrievestudents();\n    this.setState({\n      currentstudent: null,\n      currentIndex: -1\n    });\n  }\n\n  setActivestudent(student, index) {\n    this.setState({\n      currentstudent: student,\n      currentIndex: index\n    });\n  }\n\n  removeAllstudents() {\n    studentDataService.deleteAll()\n      .then(response => {\n        console.log(response.data);\n        this.refreshList();\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  searchname() {\n    this.setState({\n      currentstudent: null,\n      currentIndex: -1\n    });\n\n    studentDataService.findByname(this.state.searchname)\n      .then(response => {\n        this.setState({\n          students: response.data\n        });\n        console.log(response.data);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  selectGraduationYear(value) {\n    console.log(this.state.gradYear);\n    this.setState({\n      currentstudent: null,\n      currentIndex: -1,\n      //gradYear:value[\"value\"]\n    });\n\n    studentDataService.findByGraduationYear(value[\"value\"])\n      .then(response => {\n        this.setState({\n          students: response.data\n        });\n        console.log(response.data);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  selectStudentClass(value) {\n    console.log(this.state.studentClass);\n    this.setState({\n      currentstudent: null,\n      currentIndex: -1,\n    });\n\n    studentDataService.findByStudentClass(value[\"value\"])\n      .then(response => {\n        this.setState({\n          students: response.data\n        });\n        console.log(response.data);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n\n  render() {\n    const { searchname, students, currentstudent, currentIndex } = this.state;\n    const s_GraduationYear = [\n      { value: '', label: 'All Year' },\n      { value: '2022', label: '2022' },\n      { value: '2023', label: '2023' },\n      { value: '2024', label: '2024' },\n      { value: '2025', label: '2025' }\n    ]\n    const s_Class = [\n      { value: 'All Class', label: 'All Class' },\n      { value: 'Prime', label: 'Prime' },\n      { value: 'Royal', label: 'Royal' },\n      { value: 'Imperial', label: 'Imperial' }\n    ]\n    const s_Subject = [\n      { value: 'All Subject', label: 'All Subject' },\n      { value: 'Math', label: 'Math' },\n      { value: 'English', label: 'English' },\n      { value: 'Kiswahili', label: 'Kiswahili' },\n      { value: 'Physics', label: 'Physics' }\n    ]\n    const s_House = [\n      { value: 'All House', label: 'All House' },\n      { value: 'Mirror', label: 'Mirror' },\n      { value: 'Savvy', label: 'Savvy' },\n      { value: 'Noble', label: 'Noble' },\n      { value: 'Competent', label: 'Competent' }\n    ]\n\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-2\">\n          <div className=\"container\">\n            <div id=\"root\">\n              <Select className=\"mt-4\" label=\"graduationYear\" defaultInputValue=\"All Year\" options={s_GraduationYear} \n                //value={this.state.gradYear}\n                //onChange={value => this.setState({gradYear: value})}\n                //onFocus={value=>this.selectGraduationYear(value)}\n                onChange={value=>this.selectGraduationYear(value)}\n                allowClear\n              />\n            </div>\n            <div id=\"root\">\n              <Select className=\"mt-4\" label=\"studentClass\" defaultInputValue=\"All Class\" options={s_Class} \n                onChange={value=>this.selectStudentClass(value)}\n                allowClear\n              />\n            </div>\n            <div id=\"root\">\n              <Select className=\"mt-4\" label=\"subject\" defaultInputValue=\"All Subject\" options={s_Subject} />\n            </div>\n            <div id=\"root\">\n              <Select className=\"mt-4\" label=\"house\" defaultInputValue=\"All House\" options={s_House} />\n            </div>\n          </div>\n          <Link\n            to={\"/addStudents\"}\n            className=\"m-3 btn btn-sm btn-danger\"\n          >\n            Add Student\n          </Link>\n          <button\n                className=\"m-3 btn btn-sm btn-danger\"\n                onClick={this.removeAllstudents}\n              >\n                Remove All\n          </button>\n        </div>\n\n        <div className=\"col-md-10\">\n          <div className=\"col-md-8\">\n            <div className=\"input-group mb-3\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Search by student name\"\n                value={searchname}\n                onChange={this.onChangeSearchname}\n              />\n              <div className=\"input-group-append\">\n                <button\n                  className=\"btn btn-outline-secondary\"\n                  type=\"button\"\n                  onClick={this.searchname}\n                >\n                  Search\n                </button>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"row\">\n            <div className=\"col-md-5\">\n              <h4>All Students</h4>\n\n              <ul className=\"list-group\">\n                {students &&\n                  students.map((student, index) => (\n                    <li\n                      className={\n                        \"list-group-item \" +\n                        (index === currentIndex ? \"active\" : \"\")\n                      }\n                      onClick={() => this.setActivestudent(student, index)}\n                      key={index}\n                    >\n                      {student.id} {student.name} Form:{student.form} {student.graduationYear}\n                    </li>\n                  ))}\n              </ul>\n            </div>\n\n            <div className=\"col-md-5\">\n              {currentstudent ? (\n                <div>\n                  <h4>Student</h4>\n                  <div>\n                  <img className=\"img-fluid\" \n                    src={`${process.env.PUBLIC_URL}/assets/pfp/${currentstudent.id}.png`} \n                    width=\"180\" height=\"250\"\n                    alt=\"student_profile_pic\"/>\n                  </div>\n                  <div>\n                    <label>\n                      <strong>Full Name:</strong>\n                    </label>{\" \"}\n                    {currentstudent.name}\n                  </div>\n                  <div>\n                    <label>\n                      <strong>Form:</strong>\n                    </label>{\" \"}\n                    {currentstudent.form}\n                  </div>\n                  <div>\n                    <label>\n                      <strong>Graduation Year:</strong>\n                    </label>{\" \"}\n                    {currentstudent.graduationYear}\n                  </div>\n                  <div>\n                    <label>\n                      <strong>Status:</strong>\n                    </label>{\" \"}\n                    {currentstudent.graduated ? \"Graduated\" : \"In School\"}\n                  </div>\n\n                  <Link\n                    to={\"/students/\" + currentstudent.id}\n                    className=\"btn btn-outline-primary\"\n                  >\n                    More\n                  </Link>\n                </div>\n              ) : (\n                <div>\n                  <br />\n                  <p>Please click to select a student...</p>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}