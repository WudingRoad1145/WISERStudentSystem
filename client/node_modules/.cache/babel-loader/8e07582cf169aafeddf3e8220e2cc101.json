{"ast":null,"code":"import _classCallCheck from\"/Users/yan/Desktop/WISERStudentSystem/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yan/Desktop/WISERStudentSystem/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/yan/Desktop/WISERStudentSystem/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/yan/Desktop/WISERStudentSystem/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/yan/Desktop/WISERStudentSystem/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/yan/Desktop/WISERStudentSystem/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import studentDataService from\"../services/student.service\";import{Link}from\"react-router-dom\";var studentsList=/*#__PURE__*/function(_Component){_inherits(studentsList,_Component);function studentsList(props){var _this;_classCallCheck(this,studentsList);_this=_possibleConstructorReturn(this,_getPrototypeOf(studentsList).call(this,props));_this.onChangeSearchname=_this.onChangeSearchname.bind(_assertThisInitialized(_this));_this.retrievestudents=_this.retrievestudents.bind(_assertThisInitialized(_this));_this.refreshList=_this.refreshList.bind(_assertThisInitialized(_this));_this.setActivestudent=_this.setActivestudent.bind(_assertThisInitialized(_this));_this.removeAllstudents=_this.removeAllstudents.bind(_assertThisInitialized(_this));_this.searchname=_this.searchname.bind(_assertThisInitialized(_this));_this.state={students:[],currentstudent:null,currentIndex:-1,searchname:\"\"};return _this;}_createClass(studentsList,[{key:\"componentDidMount\",value:function componentDidMount(){this.retrievestudents();}},{key:\"onChangeSearchname\",value:function onChangeSearchname(e){var searchname=e.target.value;this.setState({searchname:searchname});}},{key:\"retrievestudents\",value:function retrievestudents(){var _this2=this;studentDataService.getAll().then(function(response){_this2.setState({students:response.data});console.log(response.data);}).catch(function(e){console.log(e);});}},{key:\"refreshList\",value:function refreshList(){this.retrievestudents();this.setState({currentstudent:null,currentIndex:-1});}},{key:\"setActivestudent\",value:function setActivestudent(student,index){this.setState({currentstudent:student,currentIndex:index});}},{key:\"removeAllstudents\",value:function removeAllstudents(){var _this3=this;studentDataService.deleteAll().then(function(response){console.log(response.data);_this3.refreshList();}).catch(function(e){console.log(e);});}},{key:\"searchname\",value:function searchname(){var _this4=this;this.setState({currentstudent:null,currentIndex:-1});studentDataService.findByname(this.state.searchname).then(function(response){_this4.setState({students:response.data});console.log(response.data);}).catch(function(e){console.log(e);});}},{key:\"render\",value:function render(){var _this5=this;var _this$state=this.state,searchname=_this$state.searchname,students=_this$state.students,currentstudent=_this$state.currentstudent,currentIndex=_this$state.currentIndex;return React.createElement(\"div\",{className:\"list row\"},React.createElement(\"div\",{className:\"col-md-8\"},React.createElement(\"div\",{className:\"input-group mb-3\"},React.createElement(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Search by student name\",value:searchname,onChange:this.onChangeSearchname}),React.createElement(\"div\",{className:\"input-group-append\"},React.createElement(\"button\",{className:\"btn btn-outline-secondary\",type:\"button\",onClick:this.searchname},\"Search\")))),React.createElement(\"div\",{className:\"col-md-6\"},React.createElement(\"h4\",null,\"All Students\"),React.createElement(\"ul\",{className:\"list-group\"},students&&students.map(function(student,index){return React.createElement(\"li\",{className:\"list-group-item \"+(index===currentIndex?\"active\":\"\"),onClick:function onClick(){return _this5.setActivestudent(student,index);},key:index},student.id,\" \",student.name,\" \",student.description);})),React.createElement(\"button\",{className:\"m-3 btn btn-sm btn-danger\",onClick:this.removeAllstudents},\"Remove All\")),React.createElement(\"div\",{className:\"col-md-6\"},currentstudent?React.createElement(\"div\",null,React.createElement(\"h4\",null,\"Student\"),React.createElement(\"div\",null,React.createElement(\"label\",null,React.createElement(\"strong\",null,\"Full Name:\")),\" \",currentstudent.name),React.createElement(\"div\",null,React.createElement(\"label\",null,React.createElement(\"strong\",null,\"Form:\")),\" \",currentstudent.description),React.createElement(\"div\",null,React.createElement(\"label\",null,React.createElement(\"strong\",null,\"Status:\")),\" \",currentstudent.published?\"Graduated\":\"In School\"),React.createElement(Link,{to:\"/students/\"+currentstudent.id,className:\"badge badge-warning\"},\"More\")):React.createElement(\"div\",null,React.createElement(\"br\",null),React.createElement(\"p\",null,\"Please click to select a student...\"))));}}]);return studentsList;}(Component);export{studentsList as default};","map":{"version":3,"sources":["/Users/yan/Desktop/WISERStudentSystem/client/src/components/student-list.component.js"],"names":["React","Component","studentDataService","Link","studentsList","props","onChangeSearchname","bind","retrievestudents","refreshList","setActivestudent","removeAllstudents","searchname","state","students","currentstudent","currentIndex","e","target","value","setState","getAll","then","response","data","console","log","catch","student","index","deleteAll","findByname","map","id","name","description","published"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport studentDataService from \"../services/student.service\";\nimport { Link } from \"react-router-dom\";\n\nexport default class studentsList extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeSearchname = this.onChangeSearchname.bind(this);\n    this.retrievestudents = this.retrievestudents.bind(this);\n    this.refreshList = this.refreshList.bind(this);\n    this.setActivestudent = this.setActivestudent.bind(this);\n    this.removeAllstudents = this.removeAllstudents.bind(this);\n    this.searchname = this.searchname.bind(this);\n\n    this.state = {\n      students: [],\n      currentstudent: null,\n      currentIndex: -1,\n      searchname: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.retrievestudents();\n  }\n\n  onChangeSearchname(e) {\n    const searchname = e.target.value;\n\n    this.setState({\n      searchname: searchname\n    });\n  }\n\n  retrievestudents() {\n    studentDataService.getAll()\n      .then(response => {\n        this.setState({\n          students: response.data\n        });\n        console.log(response.data);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  refreshList() {\n    this.retrievestudents();\n    this.setState({\n      currentstudent: null,\n      currentIndex: -1\n    });\n  }\n\n  setActivestudent(student, index) {\n    this.setState({\n      currentstudent: student,\n      currentIndex: index\n    });\n  }\n\n  removeAllstudents() {\n    studentDataService.deleteAll()\n      .then(response => {\n        console.log(response.data);\n        this.refreshList();\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  searchname() {\n    this.setState({\n      currentstudent: null,\n      currentIndex: -1\n    });\n\n    studentDataService.findByname(this.state.searchname)\n      .then(response => {\n        this.setState({\n          students: response.data\n        });\n        console.log(response.data);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  render() {\n    const { searchname, students, currentstudent, currentIndex } = this.state;\n\n    return (\n      <div className=\"list row\">\n        <div className=\"col-md-8\">\n          <div className=\"input-group mb-3\">\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              placeholder=\"Search by student name\"\n              value={searchname}\n              onChange={this.onChangeSearchname}\n            />\n            <div className=\"input-group-append\">\n              <button\n                className=\"btn btn-outline-secondary\"\n                type=\"button\"\n                onClick={this.searchname}\n              >\n                Search\n              </button>\n            </div>\n          </div>\n        </div>\n        <div className=\"col-md-6\">\n          <h4>All Students</h4>\n\n          <ul className=\"list-group\">\n            {students &&\n              students.map((student, index) => (\n                <li\n                  className={\n                    \"list-group-item \" +\n                    (index === currentIndex ? \"active\" : \"\")\n                  }\n                  onClick={() => this.setActivestudent(student, index)}\n                  key={index}\n                >\n                  {student.id} {student.name} {student.description}\n                </li>\n              ))}\n          </ul>\n\n          <button\n            className=\"m-3 btn btn-sm btn-danger\"\n            onClick={this.removeAllstudents}\n          >\n            Remove All\n          </button>\n        </div>\n        <div className=\"col-md-6\">\n          {currentstudent ? (\n            <div>\n              <h4>Student</h4>\n              <div>\n                <label>\n                  <strong>Full Name:</strong>\n                </label>{\" \"}\n                {currentstudent.name}\n              </div>\n              <div>\n                <label>\n                  <strong>Form:</strong>\n                </label>{\" \"}\n                {currentstudent.description}\n              </div>\n              <div>\n                <label>\n                  <strong>Status:</strong>\n                </label>{\" \"}\n                {currentstudent.published ? \"Graduated\" : \"In School\"}\n              </div>\n\n              <Link\n                to={\"/students/\" + currentstudent.id}\n                className=\"badge badge-warning\"\n              >\n                More\n              </Link>\n            </div>\n          ) : (\n            <div>\n              <br />\n              <p>Please click to select a student...</p>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}