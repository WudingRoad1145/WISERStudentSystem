{"ast":null,"code":"import _classCallCheck from\"/Users/yan/Desktop/react-crud-web-api/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yan/Desktop/react-crud-web-api/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/yan/Desktop/react-crud-web-api/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/yan/Desktop/react-crud-web-api/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/yan/Desktop/react-crud-web-api/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/yan/Desktop/react-crud-web-api/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import TutorialDataService from\"../services/tutorial.service\";import{Link}from\"react-router-dom\";var TutorialsList=/*#__PURE__*/function(_Component){_inherits(TutorialsList,_Component);function TutorialsList(props){var _this;_classCallCheck(this,TutorialsList);_this=_possibleConstructorReturn(this,_getPrototypeOf(TutorialsList).call(this,props));_this.onChangeSearchTitle=_this.onChangeSearchTitle.bind(_assertThisInitialized(_this));_this.retrieveTutorials=_this.retrieveTutorials.bind(_assertThisInitialized(_this));_this.refreshList=_this.refreshList.bind(_assertThisInitialized(_this));_this.setActiveTutorial=_this.setActiveTutorial.bind(_assertThisInitialized(_this));_this.removeAllTutorials=_this.removeAllTutorials.bind(_assertThisInitialized(_this));_this.searchTitle=_this.searchTitle.bind(_assertThisInitialized(_this));_this.state={tutorials:[],currentTutorial:null,currentIndex:-1,searchTitle:\"\"};return _this;}_createClass(TutorialsList,[{key:\"componentDidMount\",value:function componentDidMount(){this.retrieveTutorials();}},{key:\"onChangeSearchTitle\",value:function onChangeSearchTitle(e){var searchTitle=e.target.value;this.setState({searchTitle:searchTitle});}},{key:\"retrieveTutorials\",value:function retrieveTutorials(){var _this2=this;TutorialDataService.getAll().then(function(response){_this2.setState({tutorials:response.data});console.log(response.data);}).catch(function(e){console.log(e);});}},{key:\"refreshList\",value:function refreshList(){this.retrieveTutorials();this.setState({currentTutorial:null,currentIndex:-1});}},{key:\"setActiveTutorial\",value:function setActiveTutorial(tutorial,index){this.setState({currentTutorial:tutorial,currentIndex:index});}},{key:\"removeAllTutorials\",value:function removeAllTutorials(){var _this3=this;TutorialDataService.deleteAll().then(function(response){console.log(response.data);_this3.refreshList();}).catch(function(e){console.log(e);});}},{key:\"searchTitle\",value:function searchTitle(){var _this4=this;this.setState({currentTutorial:null,currentIndex:-1});TutorialDataService.findByTitle(this.state.searchTitle).then(function(response){_this4.setState({tutorials:response.data});console.log(response.data);}).catch(function(e){console.log(e);});}},{key:\"render\",value:function render(){var _this5=this;var _this$state=this.state,searchTitle=_this$state.searchTitle,tutorials=_this$state.tutorials,currentTutorial=_this$state.currentTutorial,currentIndex=_this$state.currentIndex;return React.createElement(\"div\",{className:\"list row\"},React.createElement(\"div\",{className:\"col-md-8\"},React.createElement(\"div\",{className:\"input-group mb-3\"},React.createElement(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Search by student name\",value:searchTitle,onChange:this.onChangeSearchTitle}),React.createElement(\"div\",{className:\"input-group-append\"},React.createElement(\"button\",{className:\"btn btn-outline-secondary\",type:\"button\",onClick:this.searchTitle},\"Search\")))),React.createElement(\"div\",{className:\"col-md-6\"},React.createElement(\"h4\",null,\"All Students\"),React.createElement(\"ul\",{className:\"list-group\"},tutorials&&tutorials.map(function(tutorial,index){return React.createElement(\"li\",{className:\"list-group-item \"+(index===currentIndex?\"active\":\"\"),onClick:function onClick(){return _this5.setActiveTutorial(tutorial,index);},key:index},tutorial.id,\" \",tutorial.title,\" \",tutorial.description);})),React.createElement(\"button\",{className:\"m-3 btn btn-sm btn-danger\",onClick:this.removeAllTutorials},\"Remove All\")),React.createElement(\"div\",{className:\"col-md-6\"},currentTutorial?React.createElement(\"div\",null,React.createElement(\"h4\",null,\"Student\"),React.createElement(\"div\",null,React.createElement(\"label\",null,React.createElement(\"strong\",null,\"Full Name:\")),\" \",currentTutorial.title),React.createElement(\"div\",null,React.createElement(\"label\",null,React.createElement(\"strong\",null,\"Form:\")),\" \",currentTutorial.description),React.createElement(\"div\",null,React.createElement(\"label\",null,React.createElement(\"strong\",null,\"Status:\")),\" \",currentTutorial.published?\"Published\":\"Pending\"),React.createElement(Link,{to:\"/tutorials/\"+currentTutorial.id,className:\"badge badge-warning\"},\"Edit\")):React.createElement(\"div\",null,React.createElement(\"br\",null),React.createElement(\"p\",null,\"Please click to select a student...\"))));}}]);return TutorialsList;}(Component);export{TutorialsList as default};","map":{"version":3,"sources":["/Users/yan/Desktop/react-crud-web-api/src/components/tutorials-list.component.js"],"names":["React","Component","TutorialDataService","Link","TutorialsList","props","onChangeSearchTitle","bind","retrieveTutorials","refreshList","setActiveTutorial","removeAllTutorials","searchTitle","state","tutorials","currentTutorial","currentIndex","e","target","value","setState","getAll","then","response","data","console","log","catch","tutorial","index","deleteAll","findByTitle","map","id","title","description","published"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport TutorialDataService from \"../services/tutorial.service\";\nimport { Link } from \"react-router-dom\";\n\nexport default class TutorialsList extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeSearchTitle = this.onChangeSearchTitle.bind(this);\n    this.retrieveTutorials = this.retrieveTutorials.bind(this);\n    this.refreshList = this.refreshList.bind(this);\n    this.setActiveTutorial = this.setActiveTutorial.bind(this);\n    this.removeAllTutorials = this.removeAllTutorials.bind(this);\n    this.searchTitle = this.searchTitle.bind(this);\n\n    this.state = {\n      tutorials: [],\n      currentTutorial: null,\n      currentIndex: -1,\n      searchTitle: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.retrieveTutorials();\n  }\n\n  onChangeSearchTitle(e) {\n    const searchTitle = e.target.value;\n\n    this.setState({\n      searchTitle: searchTitle\n    });\n  }\n\n  retrieveTutorials() {\n    TutorialDataService.getAll()\n      .then(response => {\n        this.setState({\n          tutorials: response.data\n        });\n        console.log(response.data);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  refreshList() {\n    this.retrieveTutorials();\n    this.setState({\n      currentTutorial: null,\n      currentIndex: -1\n    });\n  }\n\n  setActiveTutorial(tutorial, index) {\n    this.setState({\n      currentTutorial: tutorial,\n      currentIndex: index\n    });\n  }\n\n  removeAllTutorials() {\n    TutorialDataService.deleteAll()\n      .then(response => {\n        console.log(response.data);\n        this.refreshList();\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  searchTitle() {\n    this.setState({\n      currentTutorial: null,\n      currentIndex: -1\n    });\n\n    TutorialDataService.findByTitle(this.state.searchTitle)\n      .then(response => {\n        this.setState({\n          tutorials: response.data\n        });\n        console.log(response.data);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  render() {\n    const { searchTitle, tutorials, currentTutorial, currentIndex } = this.state;\n\n    return (\n      <div className=\"list row\">\n        <div className=\"col-md-8\">\n          <div className=\"input-group mb-3\">\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              placeholder=\"Search by student name\"\n              value={searchTitle}\n              onChange={this.onChangeSearchTitle}\n            />\n            <div className=\"input-group-append\">\n              <button\n                className=\"btn btn-outline-secondary\"\n                type=\"button\"\n                onClick={this.searchTitle}\n              >\n                Search\n              </button>\n            </div>\n          </div>\n        </div>\n        <div className=\"col-md-6\">\n          <h4>All Students</h4>\n\n          <ul className=\"list-group\">\n            {tutorials &&\n              tutorials.map((tutorial, index) => (\n                <li\n                  className={\n                    \"list-group-item \" +\n                    (index === currentIndex ? \"active\" : \"\")\n                  }\n                  onClick={() => this.setActiveTutorial(tutorial, index)}\n                  key={index}\n                >\n                  {tutorial.id} {tutorial.title} {tutorial.description}\n                </li>\n              ))}\n          </ul>\n\n          <button\n            className=\"m-3 btn btn-sm btn-danger\"\n            onClick={this.removeAllTutorials}\n          >\n            Remove All\n          </button>\n        </div>\n        <div className=\"col-md-6\">\n          {currentTutorial ? (\n            <div>\n              <h4>Student</h4>\n              <div>\n                <label>\n                  <strong>Full Name:</strong>\n                </label>{\" \"}\n                {currentTutorial.title}\n              </div>\n              <div>\n                <label>\n                  <strong>Form:</strong>\n                </label>{\" \"}\n                {currentTutorial.description}\n              </div>\n              <div>\n                <label>\n                  <strong>Status:</strong>\n                </label>{\" \"}\n                {currentTutorial.published ? \"Published\" : \"Pending\"}\n              </div>\n\n              <Link\n                to={\"/tutorials/\" + currentTutorial.id}\n                className=\"badge badge-warning\"\n              >\n                Edit\n              </Link>\n            </div>\n          ) : (\n            <div>\n              <br />\n              <p>Please click to select a student...</p>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}